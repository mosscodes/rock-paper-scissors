<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <center>
        <h1>
            ROCK! PAPER! SCISSORS! 
        </h1>
        <h2>
            First to 5 wins takes it all!
        </h2>
        <div class="score-container">
            <span class="score" id="player-score"></span>
            <span class="score" id="computer-score"></span>
        </div>
        <div class="btn-container">
            <button id="rock" onclick="playRound('rock', computerPlay())">
                ROCK!
            </button>
            <button id="paper" onclick="playRound('paper', computerPlay())">
                PAPER!
            </button>
            <button id="scissors" onclick="playRound('scissors', computerPlay())">
                SCISSORS!
            </button>
        </div>
        <div class="results-container">
            <p>Who will win? Man or Machine?</p>
        </div>
    </center>
    
    <script>
        let playerScore = 0;
        let computerScore = 0;

        document.getElementById('player-score').innerText = `Player: ${playerScore}`;
        document.getElementById('computer-score').innerText = `Computer: ${computerScore}`;

        //Computer picks it's move(
        function computerPlay() {
            const moves = ['rock', 'paper', 'scissors'];
            const num = Math.floor(Math.random() * 3);
            return moves[num];
        }

        //Compare's the user's pick against the computer's pick
        //Determines the winner of the round and checks for overall winner
        //resets score upon new play after a winner is declared
        function playRound(playerSelection, computerSelection) {
            reset();
            switch (playerSelection) {
                case "rock": 
                    if (computerSelection === "paper") {
                        document.querySelector('p').innerText = "You lose! Paper covers Rock!";
                        document.getElementById('computer-score').innerText = `Computer: ${++computerScore}`;
                        break;
                    }
                    else if (computerSelection === "scissors") {
                        document.querySelector('p').innerText = "You win! Rock smashes Scissors!";
                        document.getElementById('player-score').innerText = `Player: ${++playerScore}`;
                        break;
                    }
                    else {
                        document.querySelector('p').innerText = "It's a Draw!";
                        break;
                    }
                case "paper":
                    if (computerSelection === "scissors") {
                        document.querySelector('p').innerText = "You lose! Scissors cut Paper!";
                        document.getElementById('computer-score').innerText = `Computer: ${++computerScore}`;
                        break;
                    }
                    else if (computerSelection === "rock") {
                        document.querySelector('p').innerText = "You win! Paper covers Rock!";
                        document.getElementById('player-score').innerText = `Player: ${++playerScore}`;
                        break;
                    }
                    else {
                        document.querySelector('p').innerText = "It's a Draw!";
                        break;
                    }
                case "scissors":
                    if (computerSelection === "rock") {
                        document.querySelector('p').innerText = "You lose! Rock smashes Scissors!";
                        document.getElementById('computer-score').innerText = `Computer: ${++computerScore}`;
                        break;
                    }
                    else if (computerSelection === "paper") {
                        document.querySelector('p').innerText = "You win! Scissors cut Paper!";
                        document.getElementById('player-score').innerText = `Player: ${++playerScore}`;
                        break;
                    }
                    else {
                        document.querySelector('p').innerText = "It's a Draw!";
                        break;
                    }
            }
            if (playerScore === 5) {
            document.querySelector('p').innerText = `You won the competition! Congratulations! Play again?`
            }

            if (computerScore === 5) {
            document.querySelector('p').innerText = `You lost the competition! Better luck next time! Play again?`
            }
        }

        //resets the score
        function reset() {
            if (playerScore >= 5 || computerScore >= 5) {
                playerScore = 0;
                computerScore = 0;
                document.getElementById('computer-score').innerText = `Computer: ${computerScore}`;
                document.getElementById('player-score').innerText = `Player: ${playerScore}`;
            }
        }

    </script>

</body>
</html>